\hypertarget{solution_8hpp_source}{}\doxysection{solution.\+hpp}
\label{solution_8hpp_source}\index{/home/pedro/Documents/projects/anytime-\/pmnk-\/landscapes/src/Utils/solution.hpp@{/home/pedro/Documents/projects/anytime-\/pmnk-\/landscapes/src/Utils/solution.hpp}}
\mbox{\hyperlink{solution_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#ifndef SOLUTION\_HPP}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define SOLUTION\_HPP}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <cassert>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <random>}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}rMNKEval.hpp"{}}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{namespace }pmnk \{}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{keyword}{using} DecisionVector = std::vector<bool>;}
\DoxyCodeLine{23 \textcolor{keyword}{using} ObjectiveVector = std::vector<double>;}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{enum class} DominanceType \{ DOMINATES, EQUAL, DOMINATED, INCOMPARABLE \};}
\DoxyCodeLine{26 }
\DoxyCodeLine{28 \textcolor{keyword}{class }\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \{}
\DoxyCodeLine{29  \textcolor{keyword}{protected}:}
\DoxyCodeLine{30   DecisionVector m\_decision;}
\DoxyCodeLine{31   ObjectiveVector m\_objective;}
\DoxyCodeLine{32 }
\DoxyCodeLine{33  \textcolor{keyword}{public}:}
\DoxyCodeLine{34   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{35 }
\DoxyCodeLine{41   \mbox{\hyperlink{classpmnk_1_1Solution_a0d672283405ab1a7a73c1999c26d0268}{Solution}}(\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \textcolor{keyword}{const} \&other) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{42 }
\DoxyCodeLine{48   \mbox{\hyperlink{classpmnk_1_1Solution_a9aad40018fe3d38a2190eae1ca552e11}{Solution}}(\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \&\&other) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{49 }
\DoxyCodeLine{56   \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \&\mbox{\hyperlink{classpmnk_1_1Solution_a8f2b068dd791acb6b1160f1e17f06621}{operator=}}(\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \textcolor{keyword}{const} \&other) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{57 }
\DoxyCodeLine{64   \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \&\mbox{\hyperlink{classpmnk_1_1Solution_a096f6e73e13112445a51cebbce3ef498}{operator=}}(\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \&\&other) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{65 }
\DoxyCodeLine{72   \mbox{\hyperlink{classpmnk_1_1Solution_a0261de6429ae6f734558bc8b817c1b81}{Solution}}(\mbox{\hyperlink{classpmnk_1_1RMNKEval}{RMNKEval}} \&rmnk, DecisionVector \textcolor{keyword}{const} \&decision)}
\DoxyCodeLine{73       : m\_decision(decision) \{}
\DoxyCodeLine{74     \mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}(rmnk);}
\DoxyCodeLine{75   \}}
\DoxyCodeLine{76 }
\DoxyCodeLine{83   \mbox{\hyperlink{classpmnk_1_1Solution_a917644e23b13edd37e2f591228ba0089}{Solution}}(\mbox{\hyperlink{classpmnk_1_1RMNKEval}{RMNKEval}} \&rmnk, DecisionVector \&\&decision)}
\DoxyCodeLine{84       : m\_decision(std::move(decision)) \{}
\DoxyCodeLine{85     \mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}(rmnk);}
\DoxyCodeLine{86   \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{94   DecisionVector \textcolor{keyword}{const} \&\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{95     \textcolor{keywordflow}{return} m\_decision;}
\DoxyCodeLine{96   \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{104   ObjectiveVector \textcolor{keyword}{const} \&\mbox{\hyperlink{classpmnk_1_1Solution_a15b9a8effd2339e8e86c82b7041c108b}{objective\_vector}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{105     \textcolor{keywordflow}{return} m\_objective;}
\DoxyCodeLine{106   \}}
\DoxyCodeLine{107 }
\DoxyCodeLine{113   std::size\_t \mbox{\hyperlink{classpmnk_1_1Solution_af20268624524bbd4b1b7349777446962}{size}}() const noexcept \{}
\DoxyCodeLine{114     \textcolor{keywordflow}{return} m\_decision.size();}
\DoxyCodeLine{115   \};}
\DoxyCodeLine{116 }
\DoxyCodeLine{124   DominanceType \mbox{\hyperlink{classpmnk_1_1Solution_ab666fae404187ae342990d4872560ff7}{dominance}}(\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \textcolor{keyword}{const} \&solution)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{125     assert(m\_decision.size() == solution.m\_decision.size());}
\DoxyCodeLine{126 }
\DoxyCodeLine{127     DominanceType res = DominanceType::EQUAL;}
\DoxyCodeLine{128     \textcolor{keywordflow}{for} (\textcolor{keyword}{decltype}(m\_objective.size()) i = 0; i < m\_objective.size(); ++i) \{}
\DoxyCodeLine{129       \textcolor{keywordflow}{if} (m\_objective[i] < solution.m\_objective[i]) \{}
\DoxyCodeLine{130         \textcolor{keywordflow}{if} (res == DominanceType::DOMINATES) \{}
\DoxyCodeLine{131           \textcolor{keywordflow}{return} DominanceType::INCOMPARABLE;}
\DoxyCodeLine{132         \}}
\DoxyCodeLine{133         res = DominanceType::DOMINATED;}
\DoxyCodeLine{134       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_objective[i] > solution.m\_objective[i]) \{}
\DoxyCodeLine{135         \textcolor{keywordflow}{if} (res == DominanceType::DOMINATED) \{}
\DoxyCodeLine{136           \textcolor{keywordflow}{return} DominanceType::INCOMPARABLE;}
\DoxyCodeLine{137         \}}
\DoxyCodeLine{138         res = DominanceType::DOMINATES;}
\DoxyCodeLine{139       \}}
\DoxyCodeLine{140     \}}
\DoxyCodeLine{141     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{142   \} }
\DoxyCodeLine{143 }
\DoxyCodeLine{153   \textcolor{keyword}{friend} std::ostream \&\mbox{\hyperlink{classpmnk_1_1Solution_a4d163829428f85c7ffedc42113effda3}{operator<<}}(std::ostream \&os, \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \textcolor{keyword}{const} \&solution) \{}
\DoxyCodeLine{154     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \textcolor{keyword}{const} \&i : solution.\mbox{\hyperlink{classpmnk_1_1Solution_a15b9a8effd2339e8e86c82b7041c108b}{objective\_vector}}()) \{}
\DoxyCodeLine{155       os << i << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157     os << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{158     \textcolor{keywordflow}{return} os;}
\DoxyCodeLine{159   \}}
\DoxyCodeLine{160 }
\DoxyCodeLine{170   DecisionVector::reference \mbox{\hyperlink{classpmnk_1_1Solution_a318c4e82ec550c96b0d74757acd127cc}{operator[]}}(std::size\_t \textcolor{keyword}{const} i) \{}
\DoxyCodeLine{171     \textcolor{keywordflow}{return} m\_decision[i];}
\DoxyCodeLine{172   \}}
\DoxyCodeLine{173 }
\DoxyCodeLine{182   \textcolor{keywordtype}{void} \mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}(\mbox{\hyperlink{classpmnk_1_1RMNKEval}{RMNKEval}} \&rmnk) \{}
\DoxyCodeLine{183     rmnk.eval(m\_decision, m\_objective);}
\DoxyCodeLine{184   \}}
\DoxyCodeLine{185 }
\DoxyCodeLine{194   \textcolor{keyword}{template} <\textcolor{keyword}{typename} RNG>}
\DoxyCodeLine{195   \textcolor{keyword}{static} \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \mbox{\hyperlink{classpmnk_1_1Solution_ac343e4bc7c9db7bceea5f94699699a09}{random\_solution}}(\mbox{\hyperlink{classpmnk_1_1RMNKEval}{RMNKEval}} \&\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}, RNG \&generator) \{}
\DoxyCodeLine{196     std::uniform\_int\_distribution<int> distrib(0, 1);}
\DoxyCodeLine{197 }
\DoxyCodeLine{198     DecisionVector \mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}(\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}.getN(), 0);}
\DoxyCodeLine{199     \textcolor{keywordflow}{for} (std::size\_t i = 0; i < \mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}.size(); ++i)}
\DoxyCodeLine{200       \mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}[i] = distrib(generator);}
\DoxyCodeLine{201 }
\DoxyCodeLine{202     \textcolor{keywordflow}{return} \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}}(\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}, std::move(\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}));}
\DoxyCodeLine{203   \}}
\DoxyCodeLine{204 }
\DoxyCodeLine{217   \textcolor{keyword}{template} <\textcolor{keyword}{typename} RNG>}
\DoxyCodeLine{218   \textcolor{keyword}{static} \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \mbox{\hyperlink{classpmnk_1_1Solution_ae8db287685bfbfe76f07b9c19ab0c432}{uniform\_bit\_flip\_solution}}(\mbox{\hyperlink{classpmnk_1_1RMNKEval}{RMNKEval}} \&\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}, RNG \&generator,}
\DoxyCodeLine{219                                             \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \textcolor{keyword}{const} \&original) \{}
\DoxyCodeLine{220     std::bernoulli\_distribution distrib(1 / (\textcolor{keywordtype}{double})original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}().size());}
\DoxyCodeLine{221 }
\DoxyCodeLine{222     DecisionVector flipped = original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}();}
\DoxyCodeLine{223     \textcolor{keywordflow}{for} (\textcolor{keyword}{decltype}(flipped.size()) i = 0; i < flipped.size(); ++i) \{}
\DoxyCodeLine{224       \textcolor{keywordflow}{if} (distrib(generator)) \{}
\DoxyCodeLine{225         flipped[i] = !flipped[i];}
\DoxyCodeLine{226       \}}
\DoxyCodeLine{227     \}}
\DoxyCodeLine{228     \textcolor{keywordflow}{return} \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}}(\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}, std::move(flipped));}
\DoxyCodeLine{229   \}}
\DoxyCodeLine{230 }
\DoxyCodeLine{240   \textcolor{keyword}{static} std::vector<Solution> \mbox{\hyperlink{classpmnk_1_1Solution_a65b6dac0b66cdce63b8962ebd7a04e91}{neighborhood\_solutions}}(\mbox{\hyperlink{classpmnk_1_1RMNKEval}{RMNKEval}} \&\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}, \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \textcolor{keyword}{const} \&original) \{}
\DoxyCodeLine{241     std::vector<Solution> neighborhood;}
\DoxyCodeLine{242     neighborhood.reserve(original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}().size());}
\DoxyCodeLine{243 }
\DoxyCodeLine{244     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}().\mbox{\hyperlink{classpmnk_1_1Solution_af20268624524bbd4b1b7349777446962}{size}}(); ++i) \{}
\DoxyCodeLine{245       \textcolor{keyword}{auto} \mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}} = original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}();}
\DoxyCodeLine{246       \mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}[i] = !\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}[i];}
\DoxyCodeLine{247 }
\DoxyCodeLine{248       neighborhood.emplace\_back(\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}, std::move(\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}));}
\DoxyCodeLine{249     \}}
\DoxyCodeLine{250 }
\DoxyCodeLine{251     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}().\mbox{\hyperlink{classpmnk_1_1Solution_af20268624524bbd4b1b7349777446962}{size}}(); ++i) \{}
\DoxyCodeLine{252       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = i + 1; j < original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}().\mbox{\hyperlink{classpmnk_1_1Solution_af20268624524bbd4b1b7349777446962}{size}}(); ++j) \{}
\DoxyCodeLine{253         \textcolor{keywordflow}{if} (original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}()[i] == original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}()[j]) \{}
\DoxyCodeLine{254           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{255         \}}
\DoxyCodeLine{256 }
\DoxyCodeLine{257         \textcolor{keyword}{auto} \mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}} = original.\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}();}
\DoxyCodeLine{258         swap(\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}[i], \mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}[j]);}
\DoxyCodeLine{259         neighborhood.emplace\_back(\mbox{\hyperlink{classpmnk_1_1Solution_aba47263f1b4b329c54407036efb36d3f}{eval}}, std::move(\mbox{\hyperlink{classpmnk_1_1Solution_a5d58e21f4129cca8cb15b90dc6af43f1}{decision\_vector}}));}
\DoxyCodeLine{260       \}}
\DoxyCodeLine{261     \}}
\DoxyCodeLine{262     \textcolor{keywordflow}{return} neighborhood;}
\DoxyCodeLine{263   \}}
\DoxyCodeLine{264 \};}
\DoxyCodeLine{265 }
\DoxyCodeLine{267 \textcolor{keyword}{class }\mbox{\hyperlink{classpmnk_1_1GASolution}{GASolution}} : \textcolor{keyword}{public} \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \{}
\DoxyCodeLine{268   \textcolor{keywordtype}{double} m\_fitness;}
\DoxyCodeLine{269 }
\DoxyCodeLine{270  \textcolor{keyword}{public}:}
\DoxyCodeLine{271 }
\DoxyCodeLine{276   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpmnk_1_1GASolution_a73d6f54ce8ea97b2ca45fd2969ba5006}{GASolution}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{277 }
\DoxyCodeLine{284   \mbox{\hyperlink{classpmnk_1_1GASolution_a3ea2079558bd9fe86120a7fb16ddaf6b}{GASolution}}(\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \&\&sol, \textcolor{keywordtype}{double} \mbox{\hyperlink{classpmnk_1_1GASolution_a1c661e4e6f01b2f1c7c059536ff1bd75}{fitness}})}
\DoxyCodeLine{285       : \mbox{\hyperlink{classpmnk_1_1Solution}{Solution}}(std::forward<\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}}>(sol))}
\DoxyCodeLine{286       , m\_fitness(\mbox{\hyperlink{classpmnk_1_1GASolution_a1c661e4e6f01b2f1c7c059536ff1bd75}{fitness}}) \{\}}
\DoxyCodeLine{287 }
\DoxyCodeLine{294   \mbox{\hyperlink{classpmnk_1_1GASolution_a308672f266a2574c9308a6e45c1e7fcf}{GASolution}}(\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}} \&\&sol)}
\DoxyCodeLine{295       : \mbox{\hyperlink{classpmnk_1_1GASolution}{GASolution}}(std::forward<\mbox{\hyperlink{classpmnk_1_1Solution}{Solution}}>(sol), 0) \{\}}
\DoxyCodeLine{296 }
\DoxyCodeLine{302   [[nodiscard]] \textcolor{keyword}{constexpr} \textcolor{keywordtype}{double} \textcolor{keyword}{const} \&\mbox{\hyperlink{classpmnk_1_1GASolution_a1c661e4e6f01b2f1c7c059536ff1bd75}{fitness}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{303     \textcolor{keywordflow}{return} m\_fitness;}
\DoxyCodeLine{304   \}}
\DoxyCodeLine{305 }
\DoxyCodeLine{311   \textcolor{keywordtype}{void} \mbox{\hyperlink{classpmnk_1_1GASolution_a4f32454bd7c88b2d10d4efd701e45f0d}{set\_objv}}(ObjectiveVector \&\&objv) \{}
\DoxyCodeLine{312     m\_objective = std::move(objv);}
\DoxyCodeLine{313   \}}
\DoxyCodeLine{314 }
\DoxyCodeLine{320   \textcolor{keyword}{constexpr} \textcolor{keywordtype}{void} \mbox{\hyperlink{classpmnk_1_1GASolution_a77550d64e5fe37c5d9f35ee30bccaa76}{set\_fitness}}(\textcolor{keywordtype}{double} \textcolor{keyword}{const} \mbox{\hyperlink{classpmnk_1_1GASolution_a1c661e4e6f01b2f1c7c059536ff1bd75}{fitness}}) \{}
\DoxyCodeLine{321     m\_fitness = \mbox{\hyperlink{classpmnk_1_1GASolution_a1c661e4e6f01b2f1c7c059536ff1bd75}{fitness}};}
\DoxyCodeLine{322   \}}
\DoxyCodeLine{323 \};}
\DoxyCodeLine{324 \}  \textcolor{comment}{// namespace pmnk}}
\DoxyCodeLine{325 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SOLUTION\_HPP}}

\end{DoxyCode}
